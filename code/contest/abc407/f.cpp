#include <bits/stdc++.h>
using namespace std;
#define rep(i, n) for (int i = 0; i < (n); i++)
using ll = long long;
using P = pair<int, int>;

// ðŸ”·åˆè¦‹ã§ã©ã†ã‚„ã£ãŸã‚‰è§£ã‘ã‚‹ã‹
// å…¨ãƒšã‚¢èµ°æŸ»ã§ã¯ãªã„ãŒã€kã”ã¨ã«nå€‹ã®è¦ç´ ã‚’èˆã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§çŠ¶æ³ã¨ã—ã¦ã¯é¡žä¼¼ã—ã¦ã„ã‚‹ã€‚
// ãã†è€ƒãˆã‚‹ã¨ãƒšã‚¢ç”Ÿæˆè‡ªä½“ãŒé–“ã«åˆã‚ãªã„ã‚±ãƒ¼ã‚¹ã¨è¨€ãˆã‚‹ã®ã§ã€æ•°å¼å¤‰æ›,å¯¾ç§°æ€§ã‚’ä½¿ã£ã¦ã¾ã¨ã‚ã‚‹,ä¸»å®¢è»¢å€’ãªã©ãŒé¸æŠžè‚¢ã«ãªã‚‹ã€‚
// å…¨ãƒšã‚¢ã§ã¯ãªãã‚¯ã‚¨ãƒªå•é¡Œã¨ã„ã†è¦‹æ–¹ã‚’ã™ã‚Œã°å°ºå–ã‚Šæ³•ã‚„ã€åŒºé–“ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ä½¿ã£ãŸã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚‚é¸æŠžè‚¢ã«ãªã‚‹ã€‚
// å®Ÿé¨“ã—ã¦ã¿ã‚‹ã¨ä¸»å®¢è»¢å€’ã™ã‚‹ã—ã‹ãªã„ã“ã¨ãŒã‚ã‹ã‚‹ã€‚ã¤ã¾ã‚Šé…åˆ—ã®å„è¦ç´ ã”ã¨ã«ã©ã®kã«ã©ã‚Œã ã‘å¯„ä¸Žã™ã‚‹ã‹ã‚’è€ƒãˆã¦ã„ãã€‚
// ã™ã‚‹ã¨é ˜åŸŸåŠ ç®—ã®å½¢ã«ãªã‚Šã€åŠ ç®—ã™ã‚‹å€¤ãŒä¸€æ¬¡é–¢æ•°ã«ãªã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã€‚é ˜åŸŸåŠ ç®—ã‚’é«˜é€Ÿã«ã™ã‚‹ã«ã¯imosæ³•ãŒç¬¬ä¸€é¸æŠžè‚¢ã§ã‚ã‚Šã€
// å®šæ•°ã˜ã‚ƒãªãä¸€æ¬¡é–¢æ•°ãªã‚‰2å›žã®ç´¯ç©å’Œã§è¡¨ç¾ã§ãã‚‹ã¨æ€ã„ã¤ã‘ã‚‹ã€‚

// ðŸ”·æŠ‘ãˆã‚‹ã¹ãæŠ½è±¡è«–ã¯ï¼Ÿ
// æ˜Žç¤ºçš„ãªå…¨ãƒšã‚¢èµ°æŸ»ã®å½¢çŠ¶ã˜ã‚ƒãªãã¦ã‚‚ã€2ã¤ã®å¤‰æ•°ã‚’å…¨èµ°æŸ»ã—ãªã„ã¨ã„ã‘ãªã„å•é¡Œè¨­å®šãªã‚‰ã€å…¨ãƒšã‚¢èµ°æŸ»çš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒä½¿ãˆã‚‹
// ã‚ã‚‹åŒºé–“ã«é™çš„ãªåŠ æ¸›ã‚’è¡Œã†å ´åˆã¯imosæ³•ãŒæœ‰åŠ¹ã€‚
// - å®šæ•°ãªã‚‰1å›ž,ä¸€æ¬¡é–¢æ•°ãªã‚‰2å›žç´¯ç©å’Œã‚’ã¨ã‚‹

int main() {
    int n; cin >> n;
    vector<P> a(n);
    rep(i, n) {
        cin >> a[i].first;
        a[i].second = i;
    }

    vector<int> L(n), R(n);
    {
        stack<P> st;
        rep(i, n) {
            while (!st.empty() && st.top().first <= a[i].first) st.pop();
            if (st.empty()) L[i] = i;
            else L[i] = i - st.top().second - 1;
            st.push(a[i]);
        }
    }
    {
        stack<P> st;
        for (int i = n - 1; i >= 0; i--) {
            while (!st.empty() && st.top().first < a[i].first) st.pop();
            if (st.empty()) R[i] = n - i - 1;
            else R[i] = st.top().second - i - 1;
            st.push(a[i]);
        }
    }

    vector<ll> res(n + 3);
    rep(i, n) {
        int minx = min(L[i], R[i]);
        int maxx = max(L[i], R[i]);
        res[1] += a[i].first;
        res[2 + minx] -= a[i].first;
        res[2 + maxx] -= a[i].first;
        res[3 + minx + maxx] += a[i].first;
    }

    vector<ll> res2(n + 1), ans(n + 1);
    rep(i, n) res2[i + 1] = res2[i] + res[i + 1];
    rep(i, n) ans[i + 1] = ans[i] + res2[i + 1];

    for (int i = 1; i <= n; i++) cout << ans[i] << '\n';
}
