#include <bits/stdc++.h>
using namespace std;
#define rep(i, n) for (int i = 0; i < (n); i++)

// https://atcoder.jp/contests/joi2013ho/tasks/joi2013ho1
// ðŸ”·åˆè¦‹ã§ã©ã†ã‚„ã£ãŸã‚‰è§£ã‘ã‚‹ã‹
// çµ„åˆã›æœ€é©åŒ–å•é¡Œã®å†…ã€æ“ä½œç³»ã§1å›žæ“ä½œã®å•é¡Œã€‚æ•…ã«å…¨æŽ¢ç´¢ã‹ã‚¨ã‚¹ãƒ‘ãƒ¼ã‚’åŸºæœ¬è·¯ç·šã§è€ƒãˆã‚‹ã€‚
// å…¨æŽ¢ç´¢ã¯O(n^2)ãªã®ã§é–“ã«åˆã‚ãªã„ã€‚ã‚¨ã‚¹ãƒ‘ãƒ¼ã™ã‚‹ä¸Šã§ã‚³ãƒ„ã‚’æŠ¼ã•ãˆã¤ã¤è€ƒãˆã¦ã„ãã€‚
// å…·ä½“çš„ãªæ“ä½œã‚’è€ƒãˆã¦ã„ãã¨ãã¯ã€å®Ÿè³ªçš„ã«å½±éŸ¿ãŒã‚ã‚‹éƒ¨åˆ†ã®ã¿ã«æ³¨ç›®ã—ã¦è€ƒãˆã‚‹ã®ãŒå®šçŸ³ã€‚
// åŒºé–“å‡¦ç†ã§ã€è§£ã«é–¢ä¿‚ãŒã‚ã‚‹ç›¸å¯¾é–¢ä¿‚ãŒå¤‰åŒ–ã™ã‚‹ã®ã¯[l,r]ã§ã®lã¨rã®ã¿ã€‚
// ã¤ã¾ã‚Šã¯[,l-1]ã¨[r+1,]ã®2ã¤ã®åŒºé–“ã¨çµåˆã™ã‚‹ã“ã¨ã«ã‚ˆã‚‹å½±éŸ¿ã‚’è©•ä¾¡ã™ã‚Œã°è‰¯ã„ã“ã¨ãŒã‚ã‹ã‚‹ã€‚ã“ã‚Œã¯éƒ¨åˆ†é•·ã‚’äº‹å‰ã«è¨ˆç®—ã—ã¦ãŠã‘ã°O(1)

int main() {
    int n; cin >> n;
    vector<int> a(n);
    rep(i, n) cin >> a[i];

    a.push_back(a.back());
    n = a.size();

    int cnt = 1;
    vector<int> c;
    for (int i = 1; i < n; i++) {
        if (a[i] == a[i - 1]) {
            c.push_back(cnt);
            cnt = 1;
        } else cnt++;
    }

    int m = c.size();
    c.push_back(0);
    int ans = c[0] + c[1];
    for (int i = 1; i < m; i++) {
        ans = max(ans, c[i - 1] + c[i] + c[i + 1]);
    }
    cout << ans << endl;
}
